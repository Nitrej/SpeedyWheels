@model IEnumerable<SpeedyWheels.ViewModels.CarSearchViewModel>

@{
    ViewData["Title"] = "Strona Główna";
}
<div class=" text-center ">
    <form asp-controller="Home" asp-action="Index" method="get">
        <p>
            <input class="form-text py-2 border-right-0 border" style="width: 80%;margin: 5pt;" placeholder="Wyszukaj..." type="text" name="pattern" />
            <input class="btn btn-primary"  style="width: 20%;margin: 5pt;" type="submit" value="Filter" />
        </p>
    </form>
</div>


<div class="text-center">
    @foreach (var car in Model)
    {
        <div style="border: 2px solid; background-color: lightsteelblue; box-shadow: inset; border-radius: 20px; margin: 5pt;" class="row">
            <div class="col-md-6" style="width: auto;">
                <img src="@car.ImgUrl" width="250pt" height="200pt" style="margin: 10pt; vertical-align: central; " class="card-img">
            </div>
            <div class="col-md-6 flex-fill" >
                <h1 style="float: right; padding: 5pt;"> @car.Brand @car.Name</h1>
                <p style="float: right; clear: both; padding: 5pt;">@car.ProductionYear</p>
                <h3 style="float: right; clear: both; padding: 5pt;">@car.CostPerHour zł/h</h3>
                <button style="float: right; clear: both; padding: 5pt;" class="btn btn-primary" value="@car.Id" onclick="changeHref(this.value)">Sprawdz</button>
            </div>
        </div>
    }
</div>

<script>
    function changeHref(id) {
        console.log(id);
        var url = '@Url.Action("Index", "CarDetails")';
        window.location.href = url + '/?id=' + id;
    }

</script>


